libcas provides a C API to the CAS1 and CAS2 (2011-06-20) protocols.

Compilation and install is as expected:
./configure && make && make install

However, it is *strongly* recommended to do out-of-directory building:
mkdir ../libcas-build && cd ../libcas-build && ../libcas/configure && make && make install

This will install libcas in /usr/local/lib and clicas in /usr/local/bin .

Note that tests can be run using "make check", but require "nc" and "openssl" command line
	utilities to be installed.
	
Examples can be found in the /examples directory of the distribution.

Basic library usage is as follows:

#include ...
#include "../src/cas.h"								//-- Include CAS public header

cas_init();											//-- Init libcas *once* per process
CAS* cas=cas_new();									//-- Obtain new CAS handle, not to be shared across threads
cas_set_ssl_ca(cas,"/etc/ssl/certs");				//-- (Optional) Set SSL Certificate location
cas_set_ssl_validate_server(cas,1);					//-- (Optional) Enable certificate validation (default)

													//-- Call validation function for supplied protocol
CAS_CODE code=cas_cas2_servicevalidate(				//-- CAS2 Validation Function
	cas,											//-- CAS Handle
	"http://localhost:12345/cas/serviceValidate",   //-- Validation URL
	"http%3a%2f%2flocalhost%2f",					//-- Escape Service
	cas_service_ticket,								//-- Service Ticket
	0);												//-- Renew Flag (0|1)
if( code==CAS_VALIDATION_SUCCESS ) {
	char* p=cas_get_principal( cas );				//--  Retrieve principal from response
} else {
	char* m=cas_get_message(cas);					//-- Retrieve error message from response
}
	
cas_zap( cas );										//-- Destroy handle
cas_destroy();										//-- Destroy libcas session

